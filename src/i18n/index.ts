import { createI18n } from 'vue-i18n'

const messages = {
  en: {
    appTitle: 'Short URL Control Center',
    appSubtitle: 'Fast URL shortening with policy controls',
    nav: { create: 'Create Link', admin: 'Admin Panel', login: 'Login', account: 'Account', logout: 'Logout' },
    form: {
      title: 'Create a smart short link',
      originalUrl: 'Original URL',
      customCode: 'Custom Code (optional)',
      ttlDays: 'Available Days (TTL)',
      expiresAt: 'Expires At',
      password: 'Password (optional)',
      maxClicks: 'Max Allowed Uses',
      oneTime: 'One-time link',
      oneTimeDesc: 'After first successful access, this short URL is disabled immediately.',
      submit: 'Generate Short URL',
      reset: 'Reset',
      success: 'Short URL created successfully',
      copied: 'Copied',
      secureShared: 'Password links use secure card URL',
    },
    labels: {
      required: 'required',
      active: 'active',
      inactive: 'inactive',
      yes: 'Yes',
      no: 'No',
      clicks: 'Clicks',
      protected: 'Protected',
      expires: 'Expires',
    },
    admin: {
      title: 'Admin Dashboard',
      subtitle: 'Track and manage all short links',
      refresh: 'Refresh',
      empty: 'No links yet.',
      columns: {
        code: 'Code',
        short: 'Short URL',
        original: 'Original URL',
        created: 'Created',
        expires: 'Expires',
        clicks: 'Clicks',
        policy: 'Policy',
        status: 'Status',
        actions: 'Actions',
      },
      delete: 'Delete',
      deleteConfirm: 'Delete short URL {code}? This cannot be undone.',
    },
    errors: {
      createFailed: 'Failed to create short URL',
      fetchFailed: 'Failed to fetch link list',
      authRequired: 'Login is required to create and manage links.',
      deleteFailed: 'Failed to delete short URL',
    },
    auth: {
      title: 'Member Access',
      subtitle: 'Admin dashboard and link history are available after sign up.',
      signup: 'Sign up',
      login: 'Login',
      email: 'Email',
      password: 'Password',
      failed: 'Authentication failed',
    },
    go: {
      title: 'Secure Redirect',
      loading: 'Loading link info...',
      code: 'Short Code',
      needPassword: 'This link is password protected. Enter password to continue.',
      passwordPlaceholder: 'Enter password',
      unlock: 'Unlock destination',
      destination: 'You will move to:',
      move: 'Move now',
      invalidPassword: 'Password is invalid.',
    },
  },
  ko: {
    appTitle: '단축 URL 컨트롤 센터',
    appSubtitle: '정책 제어가 가능한 빠른 URL 단축 서비스',
    nav: { create: '링크 생성', admin: '어드민 패널', login: '로그인', account: '계정', logout: '로그아웃' },
    form: {
      title: '정책형 단축 링크 만들기',
      originalUrl: '원본 URL',
      customCode: '커스텀 코드 (선택)',
      ttlDays: '사용 가능 기간(일)',
      expiresAt: '만료 시각',
      password: '비밀번호 (선택)',
      maxClicks: '최대 허용 사용량',
      oneTime: '일회용 링크',
      oneTimeDesc: '최초 1회 접근 성공 후 즉시 비활성화됩니다.',
      submit: '단축 URL 생성',
      reset: '초기화',
      success: '단축 URL이 생성되었습니다',
      copied: '복사됨',
      secureShared: '비밀번호 링크는 보안 카드 URL로 공유됩니다',
    },
    labels: {
      required: '필수',
      active: '활성',
      inactive: '비활성',
      yes: '예',
      no: '아니오',
      clicks: '사용 횟수',
      protected: '보호',
      expires: '만료',
    },
    admin: {
      title: '어드민 대시보드',
      subtitle: '생성된 단축 링크를 추적하고 관리합니다',
      refresh: '새로고침',
      empty: '아직 생성된 링크가 없습니다.',
      columns: {
        code: '코드',
        short: '단축 URL',
        original: '원본 URL',
        created: '생성일',
        expires: '만료일',
        clicks: '사용량',
        policy: '정책',
        status: '상태',
        actions: '동작',
      },
      delete: '삭제',
      deleteConfirm: '단축 URL {code}를 삭제할까요? 이 작업은 되돌릴 수 없습니다.',
    },
    errors: {
      createFailed: '단축 URL 생성에 실패했습니다',
      fetchFailed: '링크 목록 조회에 실패했습니다',
      authRequired: '링크 생성과 관리를 위해 로그인이 필요합니다.',
      deleteFailed: '단축 URL 삭제에 실패했습니다',
    },
    auth: {
      title: '회원 전용 접근',
      subtitle: '어드민 대시보드와 링크 이력은 회원가입 후 이용 가능합니다.',
      signup: '회원가입',
      login: '로그인',
      email: '이메일',
      password: '비밀번호',
      failed: '인증에 실패했습니다',
    },
    go: {
      title: '보안 리다이렉트',
      loading: '링크 정보를 불러오는 중...',
      code: '단축 코드',
      needPassword: '비밀번호가 설정된 링크입니다. 비밀번호를 입력하세요.',
      passwordPlaceholder: '비밀번호 입력',
      unlock: '이동 주소 확인',
      destination: '다음 위치로 이동합니다:',
      move: '지금 이동',
      invalidPassword: '비밀번호가 올바르지 않습니다.',
    },
  },
}

const saved = localStorage.getItem('lang')

const i18n = createI18n({
  legacy: false,
  locale: saved === 'ko' || saved === 'en' ? saved : 'ko',
  fallbackLocale: 'en',
  messages,
})

export default i18n
